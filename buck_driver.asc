Version 4
SHEET 1 5556 680
WIRE 2080 -1888 1648 -1888
WIRE 1776 -1744 1776 -1792
WIRE 2080 -1744 2080 -1888
WIRE 2160 -1744 2080 -1744
WIRE 2304 -1728 2256 -1728
WIRE 2336 -1728 2336 -1760
WIRE 2336 -1728 2304 -1728
WIRE 2432 -1728 2336 -1728
WIRE 2560 -1728 2512 -1728
WIRE 2688 -1728 2640 -1728
WIRE 3216 -1728 2768 -1728
WIRE 2160 -1712 2128 -1712
WIRE 1728 -1664 1728 -1728
WIRE 1728 -1664 1712 -1664
WIRE 576 -1632 528 -1632
WIRE 1072 -1632 1008 -1632
WIRE 1168 -1632 1152 -1632
WIRE 2128 -1632 2128 -1712
WIRE 2320 -1632 2128 -1632
WIRE 1776 -1616 1776 -1648
WIRE 1920 -1616 1776 -1616
WIRE 2304 -1616 2304 -1728
WIRE 2304 -1616 2128 -1616
WIRE 528 -1600 528 -1632
WIRE 416 -1568 416 -1728
WIRE 416 -1568 352 -1568
WIRE 1440 -1568 1440 -1648
WIRE 1648 -1568 1648 -1888
WIRE 1648 -1568 1440 -1568
WIRE 1712 -1568 1712 -1664
WIRE 1712 -1568 1648 -1568
WIRE 1776 -1568 1776 -1616
WIRE 2128 -1568 2128 -1616
WIRE 2160 -1568 2128 -1568
WIRE 3312 -1568 3216 -1568
WIRE 1344 -1552 1296 -1552
WIRE 2304 -1552 2256 -1552
WIRE 2320 -1552 2320 -1632
WIRE 2320 -1552 2304 -1552
WIRE 2432 -1552 2320 -1552
WIRE 2560 -1552 2512 -1552
WIRE 2688 -1552 2640 -1552
WIRE 3216 -1552 3216 -1568
WIRE 3216 -1552 2768 -1552
WIRE 528 -1536 352 -1536
WIRE 1008 -1536 1008 -1632
WIRE 1040 -1536 1008 -1536
WIRE 1440 -1536 1440 -1568
WIRE 1440 -1536 1408 -1536
WIRE 1920 -1536 1920 -1616
WIRE 2160 -1536 1920 -1536
WIRE 1168 -1520 1168 -1632
WIRE 1168 -1520 1104 -1520
WIRE 1344 -1520 1168 -1520
WIRE 576 -1504 576 -1632
WIRE 576 -1504 352 -1504
WIRE 928 -1504 928 -1520
WIRE 1040 -1504 928 -1504
WIRE 224 -1488 192 -1488
WIRE 1712 -1488 1712 -1568
WIRE 1728 -1488 1712 -1488
WIRE 2304 -1488 2304 -1552
WIRE 640 -1472 640 -1504
WIRE 640 -1472 352 -1472
WIRE 224 -1456 192 -1456
WIRE 400 -1440 352 -1440
WIRE 528 -1440 528 -1536
WIRE 528 -1440 464 -1440
WIRE 1776 -1440 1776 -1472
WIRE 224 -1424 128 -1424
WIRE 384 -1408 352 -1408
WIRE 928 -1408 928 -1424
WIRE 400 -1344 400 -1440
WIRE 2560 -1280 2560 -1296
WIRE 928 -1264 928 -1328
WIRE 3536 -1264 3488 -1264
WIRE 3632 -1264 3600 -1264
WIRE 2560 -1200 2480 -1200
WIRE 2640 -1200 2560 -1200
WIRE 3488 -1200 3488 -1264
WIRE 3504 -1200 3488 -1200
WIRE 3520 -1200 3504 -1200
WIRE 3632 -1200 3632 -1264
WIRE 3632 -1200 3600 -1200
WIRE 320 -1184 304 -1184
WIRE 2512 -1184 2144 -1184
WIRE 2560 -1184 2560 -1200
WIRE 2640 -1184 2640 -1200
WIRE 176 -1104 128 -1104
WIRE 240 -1104 240 -1184
WIRE 320 -1104 320 -1184
WIRE 528 -1104 320 -1104
WIRE 2560 -1104 2560 -1120
WIRE 2640 -1088 2640 -1120
WIRE 3328 -1088 3072 -1088
WIRE 3504 -1088 3504 -1200
WIRE 3504 -1088 3408 -1088
WIRE 3520 -1088 3504 -1088
WIRE 2144 -1072 2144 -1184
WIRE 2192 -1072 2144 -1072
WIRE 2480 -1072 2480 -1200
WIRE 2480 -1072 2416 -1072
WIRE 3632 -1072 3632 -1200
WIRE 3632 -1072 3584 -1072
WIRE 3680 -1072 3632 -1072
WIRE 3520 -1056 3488 -1056
WIRE 2192 -1008 2112 -1008
WIRE 2512 -1008 2512 -1184
WIRE 2512 -1008 2416 -1008
WIRE 2560 -1008 2560 -1024
WIRE 2560 -1008 2512 -1008
WIRE 2640 -1008 2560 -1008
WIRE 3328 -1008 3264 -1008
WIRE 3488 -1008 3488 -1056
WIRE 3488 -1008 3408 -1008
WIRE 64 -992 -32 -992
WIRE 128 -992 128 -1104
WIRE 128 -992 64 -992
WIRE 160 -992 128 -992
WIRE 336 -992 304 -992
WIRE 416 -992 336 -992
WIRE 528 -992 528 -1104
WIRE 528 -992 496 -992
WIRE 640 -992 640 -1472
WIRE 640 -992 528 -992
WIRE 784 -992 640 -992
WIRE 864 -992 784 -992
WIRE 992 -992 944 -992
WIRE 1040 -992 992 -992
WIRE 1184 -992 1184 -1024
WIRE 1184 -992 1040 -992
WIRE 352 -944 320 -944
WIRE 528 -944 528 -992
WIRE 528 -944 416 -944
WIRE 320 -928 320 -944
WIRE 2512 -928 2512 -1008
WIRE 784 -912 784 -992
WIRE 832 -912 784 -912
WIRE 592 -896 560 -896
WIRE 1184 -896 1184 -992
WIRE 992 -880 992 -992
WIRE 64 -864 64 -992
WIRE 560 -848 560 -896
WIRE 560 -848 512 -848
WIRE 2512 -848 2512 -864
WIRE -32 -832 -32 -912
WIRE 592 -832 592 -896
WIRE 832 -832 832 -848
WIRE 832 -832 784 -832
WIRE 320 -816 320 -848
WIRE 640 -816 640 -832
WIRE 1040 -816 1040 -992
WIRE 432 -784 432 -848
WIRE 640 -784 640 -816
WIRE -32 -704 -32 -752
WIRE 64 -704 64 -800
WIRE 64 -704 -32 -704
WIRE 560 -704 560 -784
WIRE 560 -704 64 -704
WIRE 640 -704 560 -704
WIRE 784 -704 784 -768
WIRE 784 -704 640 -704
WIRE 880 -704 784 -704
WIRE 992 -704 992 -816
WIRE 992 -704 880 -704
WIRE 1040 -704 1040 -752
WIRE 1040 -704 992 -704
WIRE 1184 -704 1184 -816
WIRE 1184 -704 1040 -704
WIRE 2720 -688 2560 -688
WIRE 2720 -672 2720 -688
WIRE 1504 -656 1472 -656
WIRE 1616 -656 1584 -656
WIRE 1712 -656 1680 -656
WIRE 1840 -624 1776 -624
WIRE 1984 -624 1920 -624
WIRE 1616 -592 1616 -608
WIRE 1616 -560 1616 -592
WIRE 1472 -544 1472 -656
WIRE 1712 -544 1712 -656
WIRE 1712 -544 1648 -544
WIRE 1776 -544 1776 -624
WIRE 1776 -544 1712 -544
WIRE 1792 -544 1776 -544
WIRE 1872 -544 1856 -544
WIRE 1984 -544 1984 -624
WIRE 1984 -544 1952 -544
WIRE 2560 -544 1984 -544
WIRE 2720 -544 2720 -592
WIRE 2720 -544 2560 -544
WIRE 1472 -528 1472 -544
WIRE 1584 -528 1472 -528
WIRE 2720 -528 2720 -544
WIRE 1760 -512 1648 -512
WIRE 1792 -512 1760 -512
WIRE 1792 -464 1792 -512
WIRE 1408 -432 1408 -448
WIRE 1408 -416 1408 -432
WIRE 1616 -416 1616 -496
WIRE 1792 -352 1792 -384
WIRE 1408 -304 1408 -336
FLAG 880 -704 0
FLAG 320 -816 HO2
FLAG 432 -784 LO2
FLAG 224 -1552 LO2
FLAG 224 -1520 HO2
FLAG 192 -1456 0
FLAG 528 -1360 0
FLAG 384 -1408 0
FLAG 464 -1376 0
FLAG 192 -1488 0
FLAG 400 -1264 0
FLAG 416 -1728 HIN
FLAG 128 -1424 LIN
FLAG 528 -1440 V+
FLAG 1184 -1024 VO
FLAG 1792 -352 0
FLAG 1616 -592 VPOS
FLAG 2720 -448 0
FLAG 1408 -304 0
FLAG 1408 -432 VPOS
FLAG 2560 -688 VO
FLAG 1472 -544 Verr
FLAG 1376 -1504 0
FLAG 1376 -1568 VPOS
FLAG 1296 -1552 Vsaw
FLAG 928 -1600 Verr
FLAG 2192 -1136 0
FLAG 2480 -944 0
FLAG 2512 -848 0
FLAG 2192 -944 VPOS
FLAG 2560 -1296 VPOS
FLAG 2416 -1136 VPOS
FLAG 2112 -1008 Vcua
FLAG 3552 -1104 VPOS
FLAG 3552 -1040 0
FLAG 3680 -1072 Vsaw
FLAG 3488 -928 0
FLAG 3264 -1008 VPOS
FLAG 1776 -1792 VPOS
FLAG 1776 -1440 0
FLAG 3072 -1088 Vcua
FLAG 2208 -1776 VPOS
FLAG 2208 -1600 VPOS
FLAG 2208 -1680 0
FLAG 2208 -1504 0
FLAG 2304 -1424 0
FLAG 2336 -1824 0
FLAG 2480 -1760 VPOS
FLAG 2480 -1696 0
FLAG 2608 -1760 VPOS
FLAG 2608 -1696 0
FLAG 2736 -1760 VPOS
FLAG 2736 -1696 0
FLAG 2480 -1584 VPOS
FLAG 2480 -1520 0
FLAG 2608 -1584 VPOS
FLAG 2608 -1520 0
FLAG 2736 -1584 VPOS
FLAG 2736 -1520 0
FLAG 3312 -1568 LIN
FLAG 3216 -1728 HIN
FLAG 1616 -336 0
FLAG 1072 -1552 VPOS
FLAG 1072 -1488 0
FLAG 928 -1264 0
FLAG 1008 -1712 0
FLAG 1760 -512 Vref
SYMBOL voltage -32 -1008 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value 12
SYMBOL ind 848 -976 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value {L}
SYMBOL cap 1024 -816 R0
SYMATTR InstName C6
SYMATTR Value {CLOAD}
SYMATTR SpiceLine Rser=100m
SYMBOL res 1168 -912 R0
SYMATTR InstName R10
SYMATTR Value {RLOAD}
SYMBOL irf520 240 -944 R270
SYMATTR InstName U3
SYMBOL irf520 592 -912 R0
SYMATTR InstName U6
SYMBOL res 528 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1
SYMBOL res 336 -832 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 1
SYMBOL voltage 528 -1456 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V13
SYMATTR Value 12
SYMBOL diode 544 -1536 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL cap 640 -1520 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 270n
SYMBOL cap 480 -1376 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 270n
SYMBOL voltage 400 -1360 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 7
SYMBOL IR2110 288 -1488 R0
SYMATTR InstName U1
SYMBOL cap 1856 -560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL cap 1680 -672 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL res 1600 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 1968 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 1936 -640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res 2736 -432 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 2736 -576 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 42.9k
SYMBOL voltage 1408 -432 R0
WINDOW 123 24 44 Left 2
WINDOW 39 24 72 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=100m
SYMATTR InstName Vg1
SYMATTR Value 7
SYMBOL voltage 1792 -480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1.2
SYMBOL Misc\\NE555 2304 -1040 R0
SYMATTR InstName U5
SYMBOL res 2576 -1008 R180
WINDOW 0 -38 76 Left 2
WINDOW 3 -40 21 Left 2
SYMATTR InstName R1
SYMATTR Value 400
SYMBOL res 2624 -1104 R0
SYMATTR InstName R2
SYMATTR Value 10.9k
SYMBOL cap 2496 -928 R0
SYMATTR InstName C1
SYMATTR Value 454p
SYMBOL cap 2480 -960 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.01µ
SYMBOL cap 3600 -1280 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 120p
SYMBOL Opamps\\LT1215 3552 -1136 R0
SYMATTR InstName U7
SYMBOL res 3616 -1216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 110k
SYMBOL res 3312 -1104 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 400
SYMBOL res 3312 -1024 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 99k
SYMBOL res 3504 -1024 M0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL nmos 1728 -1568 R0
SYMATTR InstName M1
SYMATTR Value NDC7002N
SYMBOL pmos 1728 -1648 M180
SYMATTR InstName M2
SYMATTR Value Si1013
SYMBOL res 2544 -1296 R0
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL diode 2544 -1184 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 2656 -1120 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL Comparators\\LT1720 1376 -1600 R0
SYMATTR InstName U8
SYMBOL NAND 2176 -1728 R0
SYMATTR InstName X1
SYMBOL NAND 2176 -1552 R0
SYMATTR InstName X2
SYMBOL cap 2288 -1488 R0
SYMATTR InstName C9
SYMATTR Value 800p
SYMBOL cap 2352 -1760 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 800p
SYMBOL NOT 2464 -1728 R0
SYMATTR InstName X3
SYMBOL NOT 2592 -1728 R0
SYMATTR InstName X4
SYMBOL NOT 2720 -1728 R0
SYMATTR InstName X5
SYMBOL NOT 2464 -1552 R0
SYMATTR InstName X7
SYMBOL NOT 2592 -1552 R0
SYMATTR InstName X8
SYMBOL NOT 2720 -1552 R0
SYMATTR InstName X9
SYMBOL TL081 1616 -528 M0
SYMATTR InstName U2
SYMBOL voltage 1616 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=100m
SYMATTR InstName V3
SYMATTR Value -5
SYMBOL cap 2544 -608 R0
SYMATTR InstName C12
SYMATTR Value 100p
SYMBOL res 2544 -704 R0
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL cap 976 -880 R0
SYMATTR InstName C11
SYMATTR Value 1n
SYMATTR SpiceLine Rser=1m
SYMBOL cap 416 -960 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 3.3n
SYMBOL cap 544 -848 R0
SYMATTR InstName C14
SYMATTR Value 3.3n
SYMBOL ind 512 -1008 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 7.5n
SYMBOL ind 256 -1008 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L2
SYMATTR Value 4.5n
SYMBOL ind 656 -688 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 7.5n
SYMBOL ind 656 -896 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 4.5n
SYMBOL cap 240 -1120 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value 10n
SYMBOL res 336 -1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10
SYMBOL diode 240 -1168 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4007
SYMBOL cap 800 -768 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C16
SYMATTR Value 10n
SYMBOL res 800 -816 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value 10
SYMBOL diode 816 -912 R0
SYMATTR InstName D5
SYMATTR Value 1N4007
SYMBOL voltage -32 -848 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 24 .2m 20u 1n 1)
SYMBOL Opamps\\LT1215 1072 -1584 R0
SYMATTR InstName U4
SYMBOL res 944 -1504 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res 912 -1520 R0
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL voltage 928 -1424 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1.2
SYMBOL res 1168 -1648 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL res 992 -1728 R0
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL cap 48 -864 R0
SYMATTR InstName C17
SYMATTR Value 100µ
TEXT 128 -544 Left 2 !.tran 0 3m 0 startup
TEXT 1696 -1056 Left 2 !.param CLOAD 1u
TEXT 1680 -1016 Left 2 !.param RLOAD 60
TEXT 1680 -944 Left 2 !.param L 65.3u
TEXT -192 -536 Left 2 !.include irf520.txt
TEXT -160 -392 Left 2 !.include IR2110.txt
TEXT -152 -232 Left 2 !.MODEL 1N4007 D  ( IS=76.9p RS=42.0m BV=1.00k IBV=5.00u\n+ CJO=26.5p  M=0.333 N=1.45 TT=4.32u )
TEXT 640 -464 Left 2 !.options gmin=1e-10\n.options abstol=1e-10\n.options reltol=0.0005\n.options cshunt=1e-15
TEXT 2752 -1312 Left 2 ;Generacion del diente de sierra
TEXT 1200 -1432 Left 2 ;Comparador con diente de sierra
TEXT 32 -1768 Left 2 ;Driver
TEXT 1896 -1808 Left 2 ;Inversor
TEXT 1352 -704 Left 2 ;Error amp
TEXT 2456 -704 Left 2 ;f
TEXT -104 -104 Left 2 !.model 2N7000 VDMOS(Rg=3 Vto=3 Rd=0 Rs=.75 Rb=.14 Kp=.17 mtriode=1.25 Cgdmax=80p Cgdmin=12p Cgs=50p Cjo=50p Is=.04p mfg=Fairchild Vds=60 Ron=5 Qg=.223n)
LINE Normal 4832 -1456 4832 -1456 2
RECTANGLE Normal 3904 -1344 2016 -816 2
RECTANGLE Normal 768 -1232 -112 -1824 2
RECTANGLE Normal 2304 -272 1312 -736 2
RECTANGLE Normal 2816 -352 2416 -720 2
